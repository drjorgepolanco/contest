<% provide(:title, full_name(@user)) %>
<div class="large-12 medium-12 small-12 columns">
  <div class="large-12 medium-12 small-12 columns container-top border-bottom">
    <div class="large-9 medium-9 small-9 columns left">
      <h4 class="main-title"><strong><i class="fi-torso"></i> <%= full_name(@user).titleize %></strong></h4>
    </div>

    <div class="large-3 medium-3 small-3 columns container right">
      <%= render 'follow_form' if signed_in? %>
    </div>
  </div>
</div>

<div class="large-12 medium-12 small-12 columns container-top">
  <div class="large-4 medium-4 small-12 columns">
    <div class="large-12 medium-12 small-12 columns image-container">
      <%= image_tag @user.profile_pic, class: "image" %>
    </div>

    <div class="large-12 medium-12 small-12 columns container-top box">
      <div class="large-12 medium-12 small-12 columns container-bottom border-bottom">
        <div class="large-6 medium-6 small-6 columns font-80 to-left">
          <i class='fi-eye'></i>&nbsp;&nbsp;3,165
        </div>
        <div class="large-6 medium-6 small-6 columns font-80 to-right">
          <i class='fi-like'></i>&nbsp;&nbsp;65
        </div>
      </div>

      <div class="large-12 medium-12 small-12 columns container-top-bottom show-for-large-up">
        <div class="large-6 medium-6 small-6 columns font-80 to-left">
          Austin, TX
        </div>
        <div class="large-6 medium-6 small-6 columns font-80 to-right">
          Since: Jan 4, 2014
        </div>
      </div>
    </div>

    <div class="large-12 medium-12 small-12 columns container box">
      <div class="large-12 medium-12 small-12 columns column-top-bottom font-80">
        <strong><%= @user.first_name.capitalize %> thinks that:</strong>
      </div>
      <div class="large-12 medium-12 small-12 columns column-top-bottom border font-80 justify">
        Contrary to popular belief, Lorem Ipsum is not simply random text.
      </div>
    </div>
    
  <%# if @user.info.try(:any?) %>
    <div class="large-12 medium-12 small-12 columns container box">
      <div class="large-12 medium-12 small-12 columns column-top-bottom font-80">
        <strong>About <%= @user.first_name.capitalize %></strong>
      </div>
      <div class="large-12 medium-12 small-12 columns column-top-bottom border font-80 justify about">
        <%= @user.info %>
      </div>
    </div>
  <%# end %>
  </div>

  <div class="large-4 medium-4 small-12 columns">
    <div class="large-12 medium-12 small-12 columns container box">
      <%= render 'stats' %>
    </div>
  
  <div class="large-12 medium-12 small-12 columns container-top-bottom box">
      <div class="large-2 medium-2 small-2 columns">
        <a class="fi-social-facebook font-100" href="#"></a>
      </div>
      <div class="large-2 medium-2 small-2 columns">
        <a class="fi-social-twitter font-100" href="#"></a>
      </div>
      <div class="large-2 medium-2 small-2 columns">
        <a class="fi-social-pinterest font-100" href="#"></a>
      </div>
      <div class="large-2 medium-2 small-2 columns">
        <a class="fi-social-google-plus font-100" href="#"></a>
      </div>
      <div class="large-2 medium-2 small-2 columns">
        <a class="fi-mail font-100" href="#"></a>
      </div>
      <div class="large-2 medium-2 small-2 columns">
        <a class="fi-social-yelp font-100" href="#"></a>
      </div>
    </div>

    <div class="large-12 medium-12 small-12 columns container">
      <div class="large-12 medium-12 small-12 columns column-bottom container">
        <%= render 'shared/comments_form' %>
      </div>
      <div class="large-12 medium-12 small-12 columns container comments box">
        <%= render 'shared/comments' %>
      </div>
    </div>
  </div>
  
  <div class="large-4 medium-4 small-12 columns show-for-medium-up">
    <% if @followers.try(:any?) %>
      <div class="large-12 medium-12 small-12 columns container box">
        <div class="large-12 medium-12 small-12 columns column-top-bottom container">
          <div class="large-9 medium-9 small-9 columns to-left">
            <strong>
              <%= link_to "#{@user.first_name.capitalize} Followers:", followers_user_path(@user) %>
            </strong>
          </div>
          <div class="large-3 medium-3 small-3 columns to-right">
            <strong>
              <%= link_to @user.followers.count, followers_user_path(@user) %>
            </strong>
          </div>
        </div>
        <div class="large-12 medium-12 small-12 columns container-left-right-mid border">
          <% @followers.each do |user| %>
            <div class="large-2 medium-2 small-2 columns row-image">
              <div class="large-12 medium-12 small-12 columns image">
                <%= link_to image_tag(user.profile_pic), user %>
              </div>
            </div>
          <% end %>
        </div>
      </div>
    <% end %>

  <% if @feed_items.try(:any?) %>
    <div class="large-12 medium-12 small-12 columns container box show-for-medium-up">
      <div class="large-12 medium-12 small-12 columns column-top-bottom container">
        <div class="large-9 medium-9 small-9 columns to-left">
          <strong>
            <%= link_to "#{@user.first_name.capitalize} Follows:", following_user_path(@user) %>
          </strong>
        </div>
        <div class="large-3 medium-3 small-3 columns to-right">
          <strong>
            <%= link_to @user.followed_users.count, following_user_path(@user) %>
          </strong>
        </div>
      </div>
      <div class="large-12 medium-12 small-12 columns container border">
        <%= render partial: 'users/feed', locals: {feed_items: @user.feed} %>
      </div>
    </div>
  <% end %>
    
  </div>
</div>

<div class="large-12 medium-12 small-12 columns container main-sash">
</div>

<div class="large-12 medium-12 small-12 columns">
  <div class="large-12 medium-12 small-12 columns container-top border-bottom">
    <div class="large-10 medium-10 small-10 columns left">
      <h4 class="main-title"><strong><i class="fi-page-filled"></i> <%= @user.first_name.capitalize %>'s posts:</strong></h4>
    </div>
  <% if @user.posts.any? %>
    <div class="large-2 medium-2 small-2 columns to-right">
      <h4 class="main-title"><strong>(<%= @user.posts.count %>)</strong></h4>
    </div>
  </div>
</div>

<% @posts = @user.posts %>
<%= render 'shared/post' %>
<% end %>
